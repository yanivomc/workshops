apiVersion: v1
kind: Pod
metadata:
  name: ksql-server
  labels:
    app: ksql-server
spec:
  containers:
  - name: ksql-server
    # get latest version of image
    image:   confluentinc/cp-ksql-server:5.3.1
    imagePullPolicy: IfNotPresent
    env:
    - name: KSQL_BOOTSTRAP_SERVERS
      value: "kafka-broker:9092"
    - name: KSQL_KSQL_SERVICE_ID
      value: "confluent_standalone_2_"
    - name: KSQL_LISTENERS
      value: "http://0.0.0.0:8088/"
    ports:
    # containerPort is the port exposed by the container (where ksql server is listening)
    - containerPort: 8088
